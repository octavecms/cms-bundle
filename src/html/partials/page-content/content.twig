{% from 'macros/icon.twig' import icon %}

<div class="card-list">
    <div class="card accordion accordion--collapsed"
        data-plugin="accordion"
        data-accordion-active-heading-parent-class-name="ui-dark"
    >
        <div class="card__anchor" id="general"></div>

        {% include 'partials/section-header.twig' with {
            'title': 'General',
            'id': 'contentGeneral',
            
            'withAccordion': true,
            'accordionExpandedClassName': 'ui-dark',
            'expanded': false,
        } %}
        
        <div role="region" aria-labelledby="contentGeneralTitle" id="contentGeneral" aria-hidden="true" class="accordion__content card__content">
            <div class="card__body">
                {% include 'partials/page-content/content-section-general.twig' %}
            </div>
        </div>
    </div>

    <div class="card accordion accordion--collapsed"
        data-plugin="accordion"
        data-accordion-active-heading-parent-class-name="ui-dark"
    >
        <div class="card__anchor" id="seo"></div>

        {% include 'partials/section-header.twig' with {
            'title': 'SEO Settings',
            'id': 'contentSEO',
            
            'withAccordion': true,
            'accordionExpandedClassName': 'ui-dark',
            'expanded': false,
        } %}
        
        <div role="region" aria-labelledby="contentSEOTitle" id="contentSEO" aria-hidden="true" class="accordion__content card__content">
            <div class="card__body">
                {% include 'partials/article-edit/content-section-seo.twig' %}
            </div>
        </div>
    </div>

    <div class="card accordion accordion--expanded"
        data-plugin="accordion"
        data-accordion-active-heading-parent-class-name="ui-dark"
    >
        <div class="card__anchor" id="content"></div>

        {% include 'partials/section-header.twig' with {
            'title': 'Content',
            'id': 'contentSections',
            
            'withAccordion': true,
            'accordionExpandedClassName': 'ui-dark',
            'expanded': true,
            'withEditor': true
        } %}

        <div role="region" aria-labelledby="contentSectionsTitle" id="contentSections" aria-hidden="false" class="accordion__content card__content"
            {# Add sorting #}
            data-plugin="sortableList"

            {# Since items are small, disable invert swap #}
            {# data-sortable-list-invert-swap="true" #}
        >

            <div class="card__body card-list card-list--small js-sortable-list-list">
                {# Page content sections, opens external editor #}

                <div class="card card--draggable js-sortable-list-item">
                    {% include 'partials/section-header.twig' with {
                        'id': 'section-' ~ random(),
                        'title': 'Intro',
                        'size': 'small',
                        'draggable': true,

                        'withChangedDot': true,
                        'changed': true,
                        
                        'withOptions': true,

                        'withEdit': true,
                        'editTarget': '#crud-form-modal',
                    } %}
                </div>

                <div class="card card--draggable js-sortable-list-item">
                    {% include 'partials/section-header.twig' with {
                        'id': 'section-' ~ random(),
                        'title': 'About Us',
                        'size': 'small',
                        'draggable': true,

                        'withChangedDot': true,
                        'changed': true,
                        
                        'withOptions': true,

                        'withEdit': true,
                        'editTarget': '#crud-form-modal',
                    } %}
                </div>

                <div class="card card--draggable js-sortable-list-item">
                    {% include 'partials/section-header.twig' with {
                        'id': 'section-' ~ random(),
                        'title': 'Mission',
                        'size': 'small',
                        'draggable': true,

                        'withChangedDot': true,
                        'changed': true,
                        
                        'withOptions': true,

                        'withEdit': true,
                        'editTarget': '#crud-form-modal',
                    } %}
                </div>

                <div class="card card--draggable js-sortable-list-item">
                    {% include 'partials/section-header.twig' with {
                        'id': 'section-' ~ random(),
                        'title': 'Values',
                        'size': 'small',
                        'draggable': true,

                        'withChangedDot': true,
                        'changed': true,
                        
                        'withOptions': true,

                        'withEdit': true,
                        'editTarget': '#crud-form-modal',
                    } %}
                </div>

                <div class="card card--draggable js-sortable-list-item">
                    {% include 'partials/section-header.twig' with {
                        'id': 'section-' ~ random(),
                        'title': 'Philosophy',
                        'size': 'small',
                        'draggable': true,

                        'withChangedDot': true,
                        'changed': true,
                        
                        'withOptions': true,

                        'withEdit': true,
                        'editTarget': '#crud-form-modal',
                    } %}
                </div>

            </div>
        
        </div>
    </div>
</div>
