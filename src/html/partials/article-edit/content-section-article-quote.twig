{% set namePrefix = namePrefix|default('') %}
{% set sectionId = sectionId|default('section-' ~ random()) %}
{% set values = values|default({}) %}

<div class="card card--draggable accordion accordion--expanded js-sortable-list-item js-collection-item" data-plugin="accordion">

    {# Order input, used for backend to know #}
    <input type="hidden" name="{{ namePrefix }}[order]" value="{{ values.order|default(0) }}" />

    {# Header #}
    {% include 'partials/section-header.twig' with {
        'title': 'Quote',
        'id': sectionId,
        'size': 'small',
        
        'draggable': true,

        'withOptions': true,

        'withActiveToggle': true,
        'active': values.active|default(false),

        'withAccordion': true,
        'expanded': true,
    } %}

    {# Content #}
    <div role="region" aria-labelledby="{{ sectionId }}Title" id="{{ sectionId }}" aria-hidden="false" class="accordion__content card__content">
        <div class="card__body">

            {# Quote text #}
            <div class="form-group">
                {% include 'partials/form/label.twig' with ({
                    text: 'Quote Text',
                    attrs: {
                        for: sectionId ~ '-text'
                    }
                }) %}

                {% include 'partials/form/textarea.twig' with {
                    id: sectionId ~ '-text',
                    name: namePrefix ~ '[text]',
                    value: values.text|default(''),
                    maxlength: 600,
                    required: true
                } %}
            </div>

            {# Quote author #}
            <div class="form-group">
                <div class="row row--pad"><div class="col col--xs-12 col--md-6">
                    {% include 'partials/form/label.twig' with ({
                        text: 'Author',
                        attrs: {
                            for: sectionId ~ '-author'
                        }
                    }) %}

                    {% include 'partials/form/select.twig' with {
                        id: sectionId ~ '-author',
                        name: namePrefix ~ '[author]',
                        value: values.author|default('a'),
                        values: [
                            {id: 'a', text: 'Андрей Богданов', image: '/assets/images/temp/select-user.png'},
                            {id: 'b', text: 'Lorem ipsum', image: '/assets/images/temp/select-user.png'},
                            {id: 'c', text: 'Dolor sit amet', image: '/assets/images/temp/select-user.png'}
                        ],
                        required: true
                    } %}
                </div></div>
            </div>

        </div>
    </div>
</div>